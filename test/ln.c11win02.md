# 游戏与对策

## `讲义`

### 游戏与对策

游戏, 又叫 "博弈". 研究游戏的学科在数学中叫 "博弈论" (Game Theory). 本讲所讨论的游戏大部分是 "无偏组合游戏". 所谓 "无偏组合游戏" 是指, 在一个游戏里, 有两名玩家, 交替操作, 游戏操作规则对双方相同, 游戏状态信息对双方完全可见, 游戏步骤在有限次操作内结束.

对无偏游戏, 最著名的定理是 Sprague-Garundy 定理, 它把组合游戏理解成有向无环图, 借助 "异或运算" 计算游戏状态.

在分析游戏策略时下面的分析法则是常见的:

1. 没有平局, 每个游戏局面要么是必胜态, 要么是必败态;

2. 一个状态是必败态, 当且仅当它的所有后继状态都是必胜态;

3. 一个状态是必胜态, 当且仅当它的后继状态存在一个必败态. 

此外, 在涉及约数、倍数等问题中, 常常考虑奇偶性及选择适当的模. 另外, 归纳法也有机会用.

#### 例 1

(1) (Bash Game) 100 枚棋子甲乙轮流拿, 每次只能拿 1 枚、2 枚、3 枚、4 枚或者 5 枚, 谁拿到最后一枚棋子算输.如果甲先拿, 问: 谁有必胜策略?
(2) 100 枚棋子甲乙轮流拿, 每次只能拿 1 枚、 3 枚、 4 枚或者 5 枚, 谁拿到最后一枚棋子算输. 如果甲先拿, 问: 谁有必胜策略?
(3) 100 枚棋子甲乙轮流拿, 每次只能拿 1 枚、 3 枚、 4 枚或者 6 枚, 谁拿到最后一枚棋子算输. 如果甲先拿, 问:谁有必胜策略?
(4) 100 枚棋子甲乙轮流拿, 每次拿的不能超过现有棋子数的一半. 谁没有办法拿谁就算输. 若甲先拿, 问: 谁有必胜策略?

>(1) (LW) 答案: 甲有必胜策略. 甲拿后, 让乙面对 $6n + 1$ 的数.
>
>(2) (LW) 答案: 甲有必胜策略. 面对 $8n + 1, 8n + 3$ 的数的人算输.
>
>(3) (LW) 答案: 甲有必胜策略. 面对 $7n + 1, 7n + 3$ 的数的人算输.
>
>(4) (LW) 答案: 甲有必胜策略. 面对 $2^n -1$ 的数的人算输.

#### 例 2

$8 \times 8$ 的棋盘的左下角有一枚棋子, 现在甲乙轮流移动这枚棋子, 每次可以向上或向右或向右上走一步, 谁能把棋子移动到右上角谁就获胜, 若甲先走, 问: 谁有必胜策略? 若是 $7 \times 7$ 的棋盘呢?

> \figurehere
>
> $8 \times 8$ 先手必胜; $7 \times 7$ 后手必胜.

#### 例 3

(对称法举例)
(1) 甲乙在一个圆桌上放上轮流放上若干个同样大小的硬币, 规定不能再放者为输家. 问是否先手必胜?
(2) $4 \times 100$ 的棋盘的最左边一列与最右边一列各有 4 枚黑子与 4 枚白子, 甲执黑乙执白, 每次两人可以选择任意一枚在同一行内移动任意格, 但甲只能向右移动乙只能向左移动而且不能越过对方的棋子, 谁没有办法移动谁就算输.若甲先移动,问谁有必胜策略? 
\figurehere
(3) 在 $8 \times 8$ 的国际象棋棋盘的某个方格中放一枚棋子, 甲乙两人轮流将它移动到其它任何一个从未走过的格子中, 并且每次移动距离都大于前一次的移动距离, 谁先没办法走谁就输. 若甲先走, 问: 谁有必胜策略?

> (1) 是. 先手在圆桌中间放一个. 然后仿照先手走子.
>
> (2) 后手必胜. 后手仿照先手走子即可.
>
> (3) 甲必胜, 甲每步都走现在的中心对称格即可. 利用大边对大角, 在平行四边形中可知甲的走法永远没有问题,又格子有限, 所以乙必败.

#### 例 4

甲乙二人进行游戏, 在黑板上写着整数 2, 甲先进行, 两人轮流将黑板上所写的整数 $n$ 改写成 $n + d$ 其中 $d$ 为 $n$ 的任意一个小于 $n$ 的正约数. 如果谁先写出大于 20121221 的数谁就输. 问: 谁有必胜策略?

> 甲, 每次增加 1, 甲每次写的为奇数, 乙每次写的为偶数.

#### 例 5

甲乙两人交替在黑板上随意写一位数 0 到 9, 并且从左到右排成一排. 如果某人写完后发现写出的一排数中可以用一个数字或连续几个数字组成一个能被 11 整除的数则他输掉了这场比赛. 若甲先写, 问: 谁有必胜策略?

> 乙必胜. 
>
> 首先, 写到第 11 个数时一定会出现 11 的倍数; 其次, 乙可以保证自己在写第 10 个数时不出问题.

#### 例 6

甲乙二人进行如下游戏: 在桌子上放着一堆石子, 二人轮流执步, 甲先行, 执步者每步必须将每堆颗数多余 1 颗的石子都分成两个较小的堆. 如果谁在执步后能使得每堆石子都仅有 1 颗谁就获胜. 若开始时有 

(1) 31 枚棋子;
(2)100 枚棋子;

对每种情况讨论甲乙的胜负情况.

> (1) 乙胜, 每次保证有一堆棋子数为 $2^n - 1$;
>
> (2) 甲胜, 每次保证有一堆棋子数为 $2^n - 1$;
>
> 注: 让学生从较小的数开始试一试.

#### 例 7

在平面上给定 2014 个向量, 且这 2014 个向量的和不为 0, 甲乙二人轮流各选取 1 个向量, 直到所有向量被取完为止, 并规定所取向量之和的长度较小者为负. 若甲先取, 问: 甲是否有必胜策略?

>  以和向量方向为 $x$ 轴正方向建系 (和为 0 则任意), 甲每次选取剩余向量中横坐标最大的.

#### 例 8 `1992-1993 联邦区域竞赛(第四轮) 十一年级 21`

在黑板上写着 $x^3 + \blank x^2 + \blank x + \blank = 0$. 两个学生轮流在空白处填写实数, 甲先开始, 他的目的是使所得的方程仅有一个实数根. 试问, 乙能否干扰他的企图?


> $a, b , c$  三个空乙只能取其一, 甲先令 $b = 0$, 若乙不取 $a$, 则甲可以令 $a = b = 0$;
>
> 若乙取 $a$ , 甲可以取 $c$ 使得极小值在 $x$ 轴上方
>
> 详解: 可以分 $x$ 正负性, 利用 $x^2( x + a) =-\dfrac 12 \cdot x \cdot x \cdot (-2 x - 2a)$,用均值不等式.

#### 例 9

甲乙轮流在黑板上写 $2n$ 个自然数, 每次只能写 $1,2,3,4,5,6$ 中的一个, 甲先写. 若最后 $2n$ 个自然数之和是 9 的倍数, 则乙胜, 否则甲胜. 问: $n$ 满足什么条件时甲有必胜策略?

> 倒推法, 考虑模 9. 乙的目的是最后一步写完后留 0; 甲为了阻止乙留下 0, 自己需要留下 $0,1,2$; 乙为了阻止甲留下 $0,1,2$, 自己需要留下 2; $\cdots \cdots$列表如下
>
> 0 与 012; 2 与 234; 4 与 456; 6 与 678; 8 与 801; 1 与 123; 3 与 345; 5 与 567; 7 与 780;
>
> 9 组一循环, 只有 780 是甲无法做到的, 此时 $n = 9$, 故 $9 | n$  时乙必胜, 其余情况甲必胜.

#### 例 10

甲乙轮流从数字 $1,2,3, \cdots,100,101$ 中每次删去九个数字. 这样经过 11 次操作后, 最后会剩下两个数字. 若剩下的两个数之差的绝对值不低于 55, 则判甲获胜. 若甲先删数字, 问谁有必胜策略?

> 甲第一次删去 $47, 48,\cdots,55$ 这九个数字. 剩下的分成 $\{i, i + 55\}$ 共 46 组.
>
> 每次乙删去 9 个数之后, 甲的策略是: 乙删去哪个组中的数字, 甲就删去这个组中的另一个数字; 若乙删去整个组,则甲随便删另外的组. 这样剩下的两个数必在同一组. 从而甲必胜.

#### 例 11

黑板上写着 $1,2,3,\cdots,1000$. 甲乙二人轮流擦去黑板上一个数. 甲先开始.

(1)直到黑板上只剩下一个数时, 若删去的数字之和是 3 的倍数, 则算甲赢. 问谁有必胜策略?
(2)直到黑板上只剩下两个数时, 若所剩两个数之和是 3 的倍数, 则算甲赢. 问谁有必胜策略?

> (1) 乙有必胜策略. 理由: 删去的 999 个数字的和能被 3 整除当且仅当剩下的数字是除 3 余 1的, 这些共 334 个, 而乙有 499 次操作机会, 乙只需删掉这 334 个数字, 甲就输了.
>
> (2)乙有必胜策略. 乙的第一种策略: 先擦 3 的倍数, 最后 3 数中有两数 $\mod 3$ 余数相同; 乙的第二种策略:可分成 500 组每组和不是 3 的倍数.

#### 例 12

甲乙两人玩写数游戏, 规则为: 事先约定一个正整数 $n$, 然后在黑板上轮流写下一个不超过 $n$ 的正整数, 不擦掉, 且禁止写黑板上已有数的约数. 直到最后, 谁无法写数谁输.

(1) 若 $n = 10$,是否先手必胜?
(2) 若 $n = 2014$, 是否先手必胜?

## `作业`

1. 100 枚棋子甲乙轮流拿, 每次只能拿 1 枚、2 枚、或者 5 枚, 谁拿到最后一枚棋子算输. 如果甲先拿, 问:谁有必胜策略?

   > (LW) 答案: 乙有必胜策略. 面对 $6n + 1, 6n + 4$ 的数的人算输.

2. 甲乙轮流从数字 $1,2,3,\cdots,27$ 中删去一个数字. 直到剩下一个数字为止. 如果删去的 26 个数字的和能被 5 整除. 则判甲获胜, 否则判乙获胜. 若甲先删数字, 问谁有必胜策略?

   >  答案: 乙有必胜策略. 理由: 删去的 26 个数字的和能被 5 整除当且仅当剩下的数字是 $3,8,13,18,23$, 乙只需删掉这五个数字, 甲就输定了.

3. 一游戏开始时有 99 枚棋子, 甲乙两人轮流取棋子, 每次取走的个数必须等于当时棋子个数的正约数, 取走最后一个棋子的人算输. 问: 是否先手必胜?

   > 奇偶性.
   >
   > 先手必败. 先手如论怎么取,剩下的数都是偶数, 后取的人只需每次取 1 即可.

4. 两人做游戏. 先在黑板上写上一个 0, 然后两人轮流在黑板上已经写出的表达式右端添加符号或数字: 甲每次添加一个 "+"(加号) 或一个 "-"(减号), 乙则添加 1 到 1993 之间的某一个正整数. 两人各作 1993 次操作, 甲先开始, 乙必须将 1 到 1993 的所有正整数各写出一次. 游戏结束时, 在黑板上得到算式的计算结果的绝对值就是乙的分数, 试问, 乙最多可以保证自己得多少分?

   > ​甲: 已有结果正则写—; 乙: $1~1992$ 分两组和相等, "+" 写一组, "-" 写另一组, 写完后写 199.

5. 在纸上写有一行 $n$ 个 "-" 号, 甲乙二人轮流将其中一个或相邻的两个 "-" 改成  "+", 谁能修改到最后一个 "-" 谁就获胜. 如果甲先开始, 问: 谁有必胜策略?

   > 甲改中间一个或两个, 其余对称;
   >
   > 以和向量方向为 $x$ 轴正方向建系 (和为 0 则任意), 甲每次选取剩余向量中横坐标最大的.

6. 设 $n$ 为奇数. 在黑板上写着 $n$ 个形如 $*x^2 + *x +* = 0$ 的表达式. 甲乙两人做游戏, 两人依次轮流进行, 每人每次将一个星号换为一个非 0 的数. 操作 3n 次之后, 得到 n 个二次方程. 甲尽力使得它们中有尽可能多的方程无实数根, 而乙则尽力干扰他. 试问, 甲不依赖于乙的行动, 最多可以使得多少个方程无实数根?

   > $\dfrac {n+1}2$. 甲第一次操作的方程可以保证无实根, 乙第一次操作的方程可以保证有实根.

7. $f(x) = x^{2n} + \blank x^{2n - 1}+ \blank x^{2n-2} + \cdots  \blank x +1$ 除最高次项与常数项外全部空出 (其中 $n \ge 2$).甲乙两人做填数游戏, 规定每人轮流在某一空白方格内填入一个实数, 填完后如果方程 $f(x) = 0$ 没有实根则甲胜, 否则乙胜. 若甲先填, 问: 谁有必胜策略?

   > $n$ 个奇次项 $n -1$ 个偶次项, 在剩余两项的时候乙填了 $n - 2$ 个数, 一定可以使剩余两项中有奇次项.
   >
   > 不妨设 $f(x) = g(x) + ax^s + bx^t$, 其中 $t$ 为奇数.
   >
   > 考虑 $f(2) = g(2)+a\cdot 2^s + b \cdot 2^t$, $f(-1) =g(-1) + a(-1)^s - b$, $f (-1) +\dfrac 1{2^t}f(2) = g(-1) + \dfrac 1{2^t} g(2)+[(-1)^s + 2^{s - t}]a$, 可以取 $a$ 使得 $f(-1) +\dfrac 1{2^t}f(2) =0$,
   >
   > 故无论甲填的 $b$ 是几, 都有 $f(-1)$ 与 $f(2)$ 异号, 必有实根, 乙胜.

8. 有根数分别为 $3,5,7$ 的三堆火柴, 甲、乙轮流从一堆中 (不允许同时从两堆或三堆中) 任取火柴 (至
   少取一根, 可以一次把一堆火柴取完).

   (1) 规定拿到最后一根火柴者获胜. 问: 是否先手必胜?
   (2) 规定拿到最后一根火柴者失败. 问: 是否先手必胜?

   > 倒推枚举所有必败集合为 $011, 022, 033, 044, 055, 123, 145, 246, 257, 347, 356$.
   >
   > 要点: 能让对方面对必败则为必胜, 否则为必败.
   >
   > 故甲有必胜策略, 开始时只需从任何一堆中拿走一个即可.

